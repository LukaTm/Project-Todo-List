(()=>{"use strict";const e=()=>{document.querySelectorAll('[class*="checkTodo"]').forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.getElementsByTagName("p");if(e.checked)for(let e=0;e<t.length;e++)t[e].style.textDecoration="line-through",t[e].style.opacity="0.5";else for(let e=0;e<t.length;e++)t[e].style.textDecoration="",t[e].style.opacity="1"}))}))},t=["low","medium","high"],o=t.map((e=>document.querySelector(`.${e}`))),l=t.map((e=>document.querySelector(`#${e}`))),c=()=>{for(let e=0;e<o.length;e++)l[e].style.backgroundColor="rgb(55, 61, 81)"},n=()=>{for(let e=0;e<o.length;e++)o[e].style.backgroundColor="rgb(55, 61, 81)"},r=document.querySelector('#edit-pop-up input[name="title"]'),d=document.querySelector('#edit-pop-up input[name="details"]'),i=document.querySelector('#edit-pop-up input[name="date"]');let s="morning";const a=()=>{const e=document.querySelectorAll("#projects li");return e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>{e.style.backgroundColor="#9BA4B5"}));const o=document.querySelectorAll('[id*="todo"]');s=t.childNodes[0].textContent,t.classList.add(s),o.forEach((e=>{e.className!=s?e.style.display="none":e.style.display="flex"}))}))})),u(),s},u=()=>{document.querySelector(".show-all-todos").addEventListener("click",(()=>{document.querySelectorAll('[id*="todo"]').forEach((e=>{e.style.display="flex"}))}))};let p=4;const m=()=>{const e=document.querySelectorAll("#projects li");let t=null;e.forEach((e=>{const o=document.createElement("span");o.innerText=e.innerText,e.innerHTML="",e.appendChild(o),o.addEventListener("click",(()=>{t!==e&&(t&&t.querySelector("span").classList.remove("active"),o.classList.add("active"),o.parentNode.parentNode.classList.add("active"),t=e,document.querySelectorAll("#projects div").forEach((e=>{e.querySelector("li")!=t?e.classList.remove("active"):e.classList.add("active")})))}))}))};function y(){const e=document.querySelectorAll('[class*="prox"]');let t=0;e.forEach((e=>{if(!e.querySelector("i")){{const o=document.createElement("i");o.className=`fas fa-trash-alt delProject${t}`,o.style.color="white",o.style.borderColor="#cccccc",e.appendChild(o),o.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const t=o.parentElement.className.split(" ")[0],l=document.querySelectorAll(`.${t.toString()}`),c=document.querySelector(`.${t.toString()}`);l.forEach((e=>{e.remove();const o=$(),l=o.findIndex((e=>e.project==t));-1!==l&&o.splice(l,1),N(o);const n=JSON.parse(localStorage.getItem("projectTodoMapping"))||{};delete n[t],localStorage.setItem("projectTodoMapping",JSON.stringify(n)),c.classList.contains("active")&&document.querySelector("#projects li:not(.exclude) span").click()}))}))}t+=1}}))}m();const h=()=>{const e=["low","medium","high"].map((e=>document.querySelector(`#${e}`)));for(let t=0;t<e.length;t++)if("rgb(55, 61, 81)"!==e[t].style.backgroundColor)return e[t].id},S=()=>{document.querySelectorAll(".todo-form input:not(:last-child)").forEach((e=>{e.value="",e.style.borderColor="rgb(137, 140, 158)"})),n()};let v=[],f=0;function q(e,t,o,l,c,n){this.id=e,this.title=t,this.details=o,this.priority=l,this.dueDate=c,this.project=n}const E=(e,t,o,l,n)=>{f++;const s=new q(f,e,t,o,l,n);v.push(s),function(e){const t=document.querySelector("#main-list"),o=document.createElement("div");o.id=`todo${e}`,o.classList.add(a()),t.appendChild(o);const l=document.createElement("p");l.textContent=`Title: ${C}`,o.appendChild(l);const n=document.createElement("p");n.textContent=`Details: ${k}`,o.appendChild(n);const s=document.createElement("p");s.textContent=`Priority: ${b}`,o.appendChild(s);const u=document.createElement("p");u.textContent=`Due Date: ${x(L)} ${L.slice(-2)}`,o.appendChild(u),function(e,t){const o=document.createElement("i");o.className="fas fa-edit all-pop-ups",o.id=`edit${e}`,t.appendChild(o),o.addEventListener("click",(()=>{document.querySelector("#edit-pop-up").style.display="grid";let e=o.parentElement;const t=e.querySelector(":first-child").textContent.slice(6),l=e.querySelector(":nth-child(2)").textContent.slice(9),n=e.querySelector(":nth-child(4)").textContent.slice(14);(()=>{const t=["low","medium","high"].map((e=>document.querySelector(`#${e}`)));for(let o=0;o<t.length;o++){const l=e.querySelector(":nth-child(3)").textContent.slice(10);if(l==t[o].id){const e=t[o];c(),e.style.backgroundColor="low"==l?"green":"medium"===l?"rgb(212, 212, 76)":"red"}}})(),((e,t,o)=>{r.value=e,d.value=t,i.value=o})(t,l,(()=>{let e="";return v.forEach((t=>{t.dueDate.slice(8,10)==n&&(e=t.dueDate)})),e})());const s=document.querySelector("#submitEdit"),a=e=>{e.preventDefault();const{title:t,details:l,date:c,priority:n}={title:r.value,details:d.value,date:i.value,priority:h()};v.forEach((e=>{let r=o.id.slice(4);var d,i,u,p,m;r==e.id&&(e.title=t,e.details=l,e.dueDate=c,e.priority=n),d=r,i=t,u=l,p=n,m=c,document.querySelectorAll('[id*="todo"]').forEach((e=>{if(e.id.slice(4)==d){const t=e.querySelector(":first-child"),o=e.querySelector(":nth-child(2)"),l=e.querySelector(":nth-child(3)"),c=e.querySelector(":nth-child(4)");t.textContent=`Title: ${i}`,o.textContent=`Details: ${u}`,l.textContent=`Priority: ${p}`,c.textContent=`Due Date: ${x(m)} ${m.slice(-2)}`}})),s.removeEventListener("click",a),document.querySelector("#edit-pop-up").style.display="none"}))};s.addEventListener("click",a)}))}(f,o);const p=document.createElement("i");p.className=`fas fa-trash-alt todo${e}`,o.appendChild(p);const m=document.createElement("input");m.type="checkbox",m.id=`checkTodo${e}`,m.className=`checkTodo${e}`,m.name="checkTodo";const y=document.createElement("label");y.setAttribute("for",`checkTodo${e}`),o.appendChild(m),o.appendChild(y),p.addEventListener("click",(()=>{v.forEach((e=>{let t=o.id.slice(4);if(t==e.id){const e=v.filter((e=>e.id!=t));v=e}})),o.remove()}))}(f)},g=document.querySelector(".todo-form");let C,k,b,L;const x=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)},$=()=>v,N=e=>{v=e},w=document.querySelector(".pop-up");document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector("#sidebar"),t=window.innerWidth;t<=670&&(e.style.display="flex",e.style.opacity="0");const o=document.createElement("div");o.id="addButton",o.className="all-pop-ups";const l=document.createElement("div");l.className="container-add-button",l.appendChild(o),e.appendChild(l);let c=!0;setTimeout((()=>{const e=document.querySelector("#projects ul div:first-child li span");e&&c?(e.click(),c=!1):c=!1}),100),t<=670&&(e.style.display="none",e.style.opacity="1")}(),y(),function(){for(let e=0;e<o.length;e++){const t=l[e];t.addEventListener("click",(()=>{c(),t.style.backgroundColor="low"===t.id?"green":"medium"===t.id?"rgb(212, 212, 76)":"red"}))}}(),function(){for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(()=>{n(),t.style.backgroundColor="low"===t.className?"green":"medium"===t.className?"rgb(212, 212, 76)":"red"}))}}(),document.querySelector("#addButton").addEventListener("click",(()=>{w.style.display="grid"})),document.querySelectorAll(".close-btn").forEach((e=>{e.addEventListener("click",(()=>{S(),w.style.display="none",document.querySelector("#edit-pop-up").style.display="none"}))})),g.addEventListener("submit",(t=>{t.preventDefault();const o=g.querySelector("#date").value,l=g.querySelector("#date"),c=g.querySelector("#title").value,n=g.querySelector("#title");c||(n.style.borderColor="red",n.addEventListener("input",(()=>{n.style.borderColor="black",""==n.value&&(n.style.borderColor="red")}))),o?(C=document.querySelector("#title").value,k=document.querySelector("#details").value,b=(()=>{const e=["low","medium","high"].map((e=>document.querySelector(`.${e}`)));for(let t=0;t<e.length;t++)if("rgb(55, 61, 81)"!==e[t].style.backgroundColor)return e[t].className})(),L=document.querySelector("#date").value,E(C,k,b,L,a()),document.querySelector(".pop-up").style.display="none",S(),e()):(l.style.borderColor="red",l.addEventListener("input",(()=>{l.style.borderColor="black",""==l.value&&(l.style.borderColor="red")})))})),a(),document.querySelector("#projects ul li"),C="Wake up early",k="at least 7hr sleep",b="high",L="2023-12-07",E("Wake up early","at least 7hr sleep","high","2023-12-07","morning"),e(),function(){const e=document.querySelector("#createProject"),t=document.querySelector("#projects ul");document.querySelector("#submitNewProject").addEventListener("click",(o=>{if(o.preventDefault(),""==e.value)document.querySelector(".pop-up.empty-project-popup").style.display="block";else{const o=e.value,l=document.createElement("li"),c=document.createElement("div");l.classList.add(`project${p}`,"wrap-text");const n=document.createTextNode(o);l.appendChild(n),c.appendChild(l),c.className=`prox${p}`,t.appendChild(c),e.value="",y(),a(),m(),p+=1;let r=!0;setTimeout((()=>{document.querySelector("#projects ul div:last-child li span").click()}),100),r=!1}})),document.querySelector(".pop-up.empty-project-popup button").addEventListener("click",(()=>{document.querySelector(".pop-up.empty-project-popup ").style.display="none"}))}(),(()=>{const e=document.querySelector(".drawer"),t=document.querySelector("#sidebar");e.addEventListener("click",(()=>{e.classList.contains("active")?(t.style.display="none",e.className=e.className.replace("active","").trim()):(t.style.display="flex",e.classList.add("active"))})),window.addEventListener("resize",(()=>{const o=window.innerWidth;o>670&&(t.style.display="flex",e.className=e.className.replace("active","").trim()),o<=670&&!e.classList.contains("active")&&(t.style.display="none")}))})()}))})();