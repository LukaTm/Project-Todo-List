(()=>{"use strict";const e=document.querySelector(".pop-up"),t=["low","medium","high"].map((e=>document.querySelector(`#${e}`))),n=()=>{for(let e=0;e<t.length;e++)t[e].style.backgroundColor="rgb(154, 194, 209)"},o=document.querySelector('#edit-pop-up input[name="title"]'),d=document.querySelector('#edit-pop-up input[name="details"]'),l=document.querySelector('#edit-pop-up input[name="date"]'),c=(e,t,n)=>{o.value=e,d.value=t,l.value=n},i=()=>({title:o.value,details:d.value,date:l.value}),u=document.querySelector("form");let r,a,s,p;function m(e,t,n,o,d){this.id=e,this.title=t,this.details=n,this.priority=o,this.dueDate=d}let y=[],h=0;document.addEventListener("DOMContentLoaded",(()=>{!function(){for(let e=0;e<t.length;e++){const o=t[e];o.addEventListener("click",(()=>{n(),o.style.backgroundColor="low"===o.id?"green":"medium"===o.id?"rgb(212, 212, 76)":"red"}))}}(),function(){const e=document.querySelector("header"),t=document.querySelector("#main-list"),n=document.createElement("h1");n.textContent="TO-DO",e.appendChild(n);const o=document.createElement("div");o.id="addButton",o.className="all-pop-ups",t.appendChild(o)}(),document.querySelector("#addButton").addEventListener("click",(()=>{e.style.display="grid"})),document.querySelectorAll(".close-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="none",document.querySelector("#edit-pop-up").style.display="none"}))})),u.addEventListener("submit",(e=>{e.preventDefault(),r=document.querySelector("#title").value,a=document.querySelector("#details").value,s=(()=>{const e=["low","medium","high"].map((e=>document.querySelector(`#${e}`)));for(let t=0;t<e.length;t++)if("rgb(154, 194, 209)"!==e[t].style.backgroundColor)return e[t].id})(),p=document.querySelector("#date").value,(()=>{h++;const e=new m(h,r,a,s,p);y.push(e),function(e){const t=document.querySelector("#main-list"),n=document.createElement("div");n.id=`todo${e}`,t.appendChild(n);const o=document.createElement("p");o.textContent=`Title: ${r}`,n.appendChild(o);const d=document.createElement("p");d.textContent=`Details: ${a}`,n.appendChild(d);const l=document.createElement("p");l.textContent=`Priority: ${s}`,n.appendChild(l);const u=new Date(p),m=new Intl.DateTimeFormat("en-US",{month:"short"}).format(u),h=document.createElement("p");h.textContent=`Due Date: ${m} ${p.slice(-2)}`,n.appendChild(h),function(){const t=document.createElement("button");t.className="all-pop-ups",t.id=`edit${e}`,t.textContent="Edit",n.appendChild(t),document.querySelector("#edit-pop-up").addEventListener("submit",(e=>{e.preventDefault();const{title:t,details:o,date:d}=i();y.forEach((e=>{n.id.slice(4)==e.id&&(e.title=t,e.details=o,e.date=d),console.log(y),console.log(n.id.slice(4))}))})),t.addEventListener("click",(()=>{document.querySelector("#edit-pop-up").style.display="grid",c(r,a,p)}))}();const v=document.createElement("button");v.className=`todo${e}`,v.textContent="Delete",n.appendChild(v),v.addEventListener("click",(()=>{y.forEach((e=>{let t=n.id.slice(4);if(t==e.id){const e=y.filter((e=>e.id!=t));y=e}})),n.remove()}))}(h)})(),document.querySelector(".pop-up").style.display="none",document.querySelectorAll(".todo-form input:not(:last-child)").forEach((e=>{e.value=""})),n()}))}))})();