(()=>{"use strict";const e=document.querySelector(".pop-up"),t=["low","medium","high"],o=t.map((e=>document.querySelector(`.${e}`))),l=t.map((e=>document.querySelector(`#${e}`))),n=()=>{for(let e=0;e<o.length;e++)l[e].style.backgroundColor="rgb(154, 194, 209)"},r=()=>{for(let e=0;e<o.length;e++)o[e].style.backgroundColor="rgb(154, 194, 209)"},c=document.querySelector('#edit-pop-up input[name="title"]'),d=document.querySelector('#edit-pop-up input[name="details"]'),i=document.querySelector('#edit-pop-up input[name="date"]'),u=document.querySelectorAll("#projects li");let a="morning";const s=()=>(u.forEach((e=>{e.addEventListener("click",(()=>{u.forEach((e=>{e.style.backgroundColor="#dab785"})),e.style.backgroundColor="red",document.querySelectorAll('[id*="todo"]').forEach((e=>{e.className!=a?e.style.display="none":e.style.display="flex"})),a=e.textContent}))})),m(),a),m=()=>{document.querySelector(".show-all-todos").addEventListener("click",(()=>{document.querySelectorAll('[id*="todo"]').forEach((e=>{e.style.display="flex"}))}))},p=()=>{const e=["low","medium","high"].map((e=>document.querySelector(`#${e}`)));for(let t=0;t<e.length;t++)if("rgb(154, 194, 209)"!==e[t].style.backgroundColor)return e[t].id};let y=[],h=0;function f(e,t,o,l,n){this.id=e,this.title=t,this.details=o,this.priority=l,this.dueDate=n}const g=(e,t,o,l)=>{h++;const n=new f(h,e,t,o,l);y.push(n),function(e){const t=document.querySelector("#main-list"),o=document.createElement("div");o.id=`todo${e}`,o.className=s(),t.appendChild(o);const l=document.createElement("p");l.textContent=`Title: ${q}`,o.appendChild(l);const n=document.createElement("p");n.textContent=`Details: ${C}`,o.appendChild(n);const r=document.createElement("p");r.textContent=`Priority: ${E}`,o.appendChild(r);const u=document.createElement("p");console.log(v),u.textContent=`Due Date: ${b(v)} ${v.slice(-2)}`,o.appendChild(u),function(e,t){const o=document.createElement("button");o.className="all-pop-ups",o.id=`edit${e}`,o.textContent="Edit",t.appendChild(o),o.addEventListener("click",(()=>{document.querySelector("#edit-pop-up").style.display="grid";let e=o.parentElement;const t=e.querySelector(":first-child").textContent.slice(6),l=e.querySelector(":nth-child(2)").textContent.slice(9),n=e.querySelector(":nth-child(4)").textContent.slice(14);(()=>{const t=["low","medium","high"].map((e=>document.querySelector(`#${e}`)));for(let o=0;o<t.length;o++){const l=e.querySelector(":nth-child(3)").textContent.slice(10);l==t[o].id&&(t[o].style.backgroundColor="low"==l?"green":"medium"===l?"rgb(212, 212, 76)":"red")}})(),((e,t,o)=>{c.value=e,d.value=t,i.value=o})(t,l,void y.forEach((e=>{if(e.dueDate.slice(8,10)==n)return e.dueDate})));const r=document.querySelector("#submitEdit"),u=e=>{e.preventDefault();const{title:t,details:l,date:n,priority:a}={title:c.value,details:d.value,date:i.value,priority:p()};y.forEach((e=>{console.log(y);let c=o.id.slice(4);var d,i,s,m,p;c==e.id&&(e.title=t,e.details=l,e.date=n,e.priority=a),d=c,i=t,s=l,m=a,p=n,document.querySelectorAll('[id*="todo"]').forEach((e=>{if(e.id.slice(4)==d){const t=e.querySelector(":first-child"),o=e.querySelector(":nth-child(2)"),l=e.querySelector(":nth-child(3)"),n=e.querySelector(":nth-child(4)");t.textContent=`Title ${i}`,o.textContent=`Details: ${s}`,l.textContent=`Priority: ${m}`,n.textContent=`Due Date: ${b(p)} ${p.slice(-2)}`}})),r.removeEventListener("click",u)}))};r.addEventListener("click",u)}))}(h,o);const a=document.createElement("button");a.className=`todo${e}`,a.textContent="Delete",o.appendChild(a),a.addEventListener("click",(()=>{y.forEach((e=>{let t=o.id.slice(4);if(t==e.id){const e=y.filter((e=>e.id!=t));y=e}})),o.remove()}))}(h)},S=document.querySelector(".todo-form");let q,C,E,v;const b=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)};document.addEventListener("DOMContentLoaded",(()=>{!function(){for(let e=0;e<o.length;e++){const t=l[e];t.addEventListener("click",(()=>{n(),t.style.backgroundColor="low"===t.id?"green":"medium"===t.id?"rgb(212, 212, 76)":"red"}))}}(),function(){for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(()=>{r(),t.style.backgroundColor="low"===t.className?"green":"medium"===t.className?"rgb(212, 212, 76)":"red"}))}}(),function(){const e=document.querySelector("header"),t=document.querySelector("#main-list"),o=document.createElement("h1");o.textContent="TO-DO",e.appendChild(o);const l=document.createElement("div");l.id="addButton",l.className="all-pop-ups",t.appendChild(l)}(),document.querySelector("#addButton").addEventListener("click",(()=>{e.style.display="grid"})),document.querySelectorAll(".close-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="none",document.querySelector("#edit-pop-up").style.display="none"}))})),S.addEventListener("submit",(e=>{e.preventDefault(),q=document.querySelector("#title").value,C=document.querySelector("#details").value,E=(()=>{const e=["low","medium","high"].map((e=>document.querySelector(`.${e}`)));for(let t=0;t<e.length;t++)if("rgb(154, 194, 209)"!==e[t].style.backgroundColor)return e[t].className})(),v=document.querySelector("#date").value,g(q,C,E,v),document.querySelector(".pop-up").style.display="none",document.querySelectorAll(".todo-form input:not(:last-child)").forEach((e=>{e.value=""})),r()})),s(),document.querySelector("#projects ul li").style.backgroundColor="red",q="Wake up early",C="at least 7hr sleep",E="high",v="2023-12-07",g("Wake up early","at least 7hr sleep","high","2023-12-07")}))})();